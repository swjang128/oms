<!-- ================== HEADER ================== -->
{{>common/header}}
<!-- ================== CONTENT ================== -->
<main id="content" role="main" class="main">
	<!-- Content -->
	<div class="content container-fluid">
		<!-- Page Header -->
		<div class="page-header">
			<div class="row align-items-end">
				<div class="col-sm mb-2 mb-sm-0">
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb breadcrumb-no-gutter">
							<li class="breadcrumb-item">
								<a class="breadcrumb-link" id="breadcrumbParentLocationName" href="javascript:;"></a>
							</li>
							<li class="breadcrumb-item active" id="breadcrumbLocationName" href="" aria-current="page"></li>
						</ol>
					</nav>
				</div>
				<!-- End Col -->
				<div class="col-sm-auto">
					<a class="btn btn-primary" onClick="initAccountModal()" data-bs-toggle="modal" data-bs-target="#createAccountModal">
						<i class="bi-person-plus-fill me-1"></i> 신규 등록
					</a>
				</div>
				<!-- End Col -->
			</div>
			<!-- End Row -->
		</div>
		<!-- End Page Header -->
		<!-- Stats -->
		<div class="row">
			<div class="col-sm-6 col-lg-3 mb-3 mb-lg-5">
				<!-- Card -->
				<div class="card h-100">
					<div class="card-body">
						<h6 class="card-subtitle mb-2">전체 계정</h6>
						<div class="row align-items-center gx-2">
							<div class="col">
								<span class="js-counter display-4 text-dark">{{totalAccount}}</span>
								<span class="text-body fs-5 ms-1">(지난달: {{monthAgoAccount}})</span>
							</div>
							<div class="col-auto">
								<span class="badge bg-soft-success text-success p-1">
									<i class="bi-graph-up"></i> {{compareAccount}} %
								</span>
							</div>
						</div>
					</div>
				</div>
				<!-- End Card -->
			</div>
			<div class="col-sm-6 col-lg-3 mb-3 mb-lg-5">
				<!-- Card -->
				<div class="card h-100">
					<div class="card-body">
						<h6 class="card-subtitle mb-2">활성화된 계정</h6>
						<div class="row align-items-center gx-2">
							<div class="col">
								<span class="js-counter display-4 text-dark">{{activeAccount}}</span>
							</div>
							<div class="col-auto">
								<span class="badge bg-soft-success text-primary p-1">
									<i class="bi-graph-up"></i> {{compareActiveAccount}} %
								</span>
							</div>
						</div>
					</div>
				</div>
				<!-- End Card -->
			</div>
			<div class="col-sm-6 col-lg-3 mb-3 mb-lg-5">
				<!-- Card -->
				<div class="card h-100">
					<div class="card-body">
						<h6 class="card-subtitle mb-2">만료된 계정</h6>
						<div class="row align-items-center gx-2">
							<div class="col">
								<span class="js-counter display-4 text-dark">{{expiredAccount}}</span>
							</div>
							<div class="col-auto">
								<span class="badge bg-soft-success text-warning p-1">
									<i class="bi-graph-up"></i> {{compareExpiredAccount}} %
								</span>
							</div>
						</div>
					</div>
				</div>
				<!-- End Card -->
			</div>
			<div class="col-sm-6 col-lg-3 mb-3 mb-lg-5">
				<!-- Card -->
				<div class="card h-100">
					<div class="card-body">
						<h6 class="card-subtitle mb-2">정지된 계정</h6>
						<div class="row align-items-center gx-2">
							<div class="col">
								<span class="js-counter display-4 text-dark">{{blockedAccount}}</span>
							</div>
							<div class="col-auto">
								<span class="badge bg-soft-success text-danger p-1">
									<i class="bi-graph-up"></i> {{compareBlockedAccount}} %
								</span>
							</div>
						</div>
					</div>
				</div>
				<!-- End Card -->
			</div>
		</div>
		<!-- 부서+직급 관리 -->
		<div class="row">
			<div class="col-sm-6 col-lg-6 mb-3 mb-lg-5">
				<!-- Card -->
				<div class="card h-100">
					<div class="card-body">
						<h6 class="card-subtitle mb-2">부서</h6>
						<div class="row align-items-center gx-2">
							<div class="col">
								<span class="js-counter display-4 text-dark">15</span>
							</div>
							<div class="col-auto">
								<a class="btn btn-sm btn-outline-success" onClick="readDepartment()" data-bs-toggle="modal" data-bs-target="#departmentModal">
									<i class="bi-person-plus-fill me-1"></i> 부서관리
								</a>
							</div>
							<div class="col-md-9 col-lg-6 column-md-divider px-md-4">
								<div class="row justify-content-start mb-2">
									<div class="col-auto">
										<span class="legend-indicator bg-primary"></span>
										사용: [<span class="js-counter display-7 text-dark">9</span>]
									</div>
									<!-- End Col -->
									<div class="col-auto">
										<span class="legend-indicator bg-success"></span>
										미사용: [<span class="js-counter display-7 text-dark">6</span>]
									</div>
									<!-- End Col -->
								</div>
								<!-- End Row -->
								<!-- Progress -->
								<div class="progress rounded-pill">
									<div class="progress-bar" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
									<div class="progress-bar bg-success" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
								</div>
								<!-- End Progress -->
							</div>
						</div>
					</div>
				</div>
				<!-- End Card -->
			</div>
			<div class="col-sm-6 col-lg-6 mb-3 mb-lg-5">
				<!-- Card -->
				<div class="card h-100">
					<div class="card-body">
						<h6 class="card-subtitle mb-2">직급</h6>
						<div class="row align-items-center gx-2">
							<div class="col">
								<span class="js-counter display-4 text-dark">10</span>
							</div>
							<div class="col-auto">
								<a class="btn btn-sm btn-outline-success" onClick="" data-bs-toggle="modal" data-bs-target="#departmentModal">
									<i class="bi-person-plus-fill me-1"></i> 직급관리
								</a>
							</div>
							<div class="col-md-9 col-lg-6 column-md-divider px-md-4">
								<div class="row justify-content-start mb-2">
									<div class="col-auto">
										<span class="legend-indicator bg-primary"></span>
										사용: [<span class="js-counter display-7 text-dark">8</span>]
									</div>
									<!-- End Col -->
									<div class="col-auto">
										<span class="legend-indicator bg-success"></span>
										미사용: [<span class="js-counter display-7 text-dark">2</span>]
									</div>
									<!-- End Col -->
								</div>
								<!-- End Row -->
								<!-- Progress -->
								<div class="progress rounded-pill">
									<div class="progress-bar" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
									<div class="progress-bar bg-success" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
								</div>
								<!-- End Progress -->
							</div>
						</div>
					</div>
				</div>
				<!-- End Card -->
			</div>
		</div>
		<!-- End 부서+직급 관리 -->
		<!-- Stats -->
	</div>
	<!-- End Card -->
	<!-- End Stats -->
	<!-- Card -->
	<div class="card">
		<!-- Header -->
		<div class="card-header card-header-content-md-between">
			<div class="mb-2 mb-md-0">
				<form>
					<!-- Search -->
					<div class="input-group input-group-merge input-group-flush">
						<div class="input-group-prepend input-group-text">
							<i class="bi-search"></i>
						</div>
						<input id="datatableSearch" type="search" class="form-control" placeholder="계정 검색" aria-label="Search users">
					</div>
					<!-- End Search -->
				</form>
			</div>
			<div class="d-grid d-sm-flex justify-content-md-end align-items-sm-center gap-2">
				<!-- Datatable Info -->
				<div id="datatableCounterInfo" style="display: none;">
					<div class="d-flex align-items-center">
						<span class="fs-5 me-3">
							<span id="datatableCounter">0</span>
							개의 선택한 계정을
						</span>
						<a class="btn btn-outline-danger btn-sm" href="javascript:;" onClick="deleteAccount()">
							<i class="bi-trash"></i> 삭제
						</a>
					</div>
				</div>
				<!-- End Datatable Info -->
				<!-- Dropdown -->
				<div class="dropdown">
					<button type="button" class="btn btn-white btn-sm dropdown-toggle w-100" id="usersExportDropdown" data-bs-toggle="dropdown" aria-expanded="false">
						<i class="bi-download me-2"></i> 내보내기
					</button>
					<div class="dropdown-menu dropdown-menu-sm-end" aria-labelledby="usersExportDropdown">
						<span class="dropdown-header">선택</span>
						<a id="export-copy" class="dropdown-item" href="javascript:;">
							<img class="avatar avatar-xss avatar-4x3 me-2" src="/svg/illustrations/copy-icon.svg" alt="Image Description">
							복사
						</a>
						<a id="export-print" class="dropdown-item" href="javascript:;">
							<img class="avatar avatar-xss avatar-4x3 me-2" src="/svg/illustrations/print-icon.svg" alt="Image Description">
							인쇄
						</a>
						<div class="dropdown-divider"></div>
						<span class="dropdown-header">다운로드</span>
						<a id="export-excel" class="dropdown-item" href="javascript:;">
							<img class="avatar avatar-xss avatar-4x3 me-2" src="/svg/brands/excel-icon.svg" alt="Image Description">
							Excel
						</a>
						<a id="export-csv" class="dropdown-item" href="javascript:;">
							<img class="avatar avatar-xss avatar-4x3 me-2" src="/svg/components/placeholder-csv-format.svg" alt="Image Description">
							CSV
						</a>
						<a id="export-pdf" class="dropdown-item" href="javascript:;">
							<img class="avatar avatar-xss avatar-4x3 me-2" src="/svg/brands/pdf-icon.svg" alt="Image Description">
							PDF
						</a>
					</div>
				</div>
				<!-- End Dropdown -->
				<!-- Dropdown -->
				<div class="dropdown" data-bs-auto-close="inside" onClick="openDropdown()">
					<button type="button" class="btn btn-white btn-sm w-100" id="usersFilterDropdown" data-bs-toggle="dropdown" aria-expanded="false">
						<i class="bi-filter me-1"></i> 조건
						<span class="badge bg-soft-dark text-dark rounded-circle ms-1">2</span>
					</button>
					<div class="dropdown-menu dropdown-menu-sm-end dropdown-card card-dropdown-filter-centered" aria-labelledby="usersFilterDropdown" style="min-width: 22rem;">
						<!-- Card -->
						<div class="card">
							<div class="card-header card-header-content-between">
								<h5 class="card-header-title">조건 선택</h5>
								<!-- Toggle Button -->
								<button type="button" class="btn btn-ghost-secondary btn-icon btn-sm ms-2">
									<i class="bi-x-lg"></i>
								</button>
								<!-- End Toggle Button -->
							</div>
							<div class="card-body">
								<form>
									<div class="row">
										<div class="col-sm mb-4">
											<small class="text-cap text-body">부서</small>
											<!-- Select -->
											<div class="tom-select-custom">
												<select class="js-select js-datatable-filter form-select form-select-sm" id="dropdownDepartment" data-target-column-index="4" data-hs-tom-select-options='{
				                                      "placeholder": "Any",
				                                      "searchInDropdown": false,
				                                      "hideSearch": true,
				                                      "dropdownWidth": "10rem"
				                                    }'>
													<option value="">전체</option>
												</select>
												<!-- End Select -->
											</div>
										</div>
										<!-- End Col -->
										<div class="col-sm mb-4">
											<small class="text-cap text-body">상태</small>
											<!-- Select -->
											<div class="tom-select-custom">
												<select class="js-select js-datatable-filter form-select form-select-sm" data-target-column-index="6" data-hs-tom-select-options='{
				                                      "placeholder": "Any status",
				                                      "searchInDropdown": false,
				                                      "hideSearch": true,
				                                      "dropdownWidth": "10rem"
				                                    }'>
													<option value="">전체</option>
													<option value="온라인" data-option-template='<span class="d-flex align-items-center"><span class="legend-indicator bg-success"></span>Online</span>'>온라인</option>
													<option value="오프라인" data-option-template='<span class="d-flex align-items-center"><span class="legend-indicator bg-danger"></span>Offline</span>'>오프라인</option>
													<option value="자리비움" data-option-template='<span class="d-flex align-items-center"><span class="legend-indicator bg-warning"></span>AFK</span>'>자리비움</option>
													<option value="다른용무중" data-option-template='<span class="d-flex align-items-center"><span class="legend-indicator bg-info"></span>Busy</span>'>다른용무중</option>
												</select>
											</div>
											<!-- End Select -->
										</div>
										<!-- End Col -->
									</div>
									<!-- End Row -->
									<div class="d-grid">
										<a class="btn btn-primary" href="javascript:;">적용</a>
									</div>
								</form>
							</div>
						</div>
						<!-- End Card -->
					</div>
				</div>
				<!-- End Dropdown -->
			</div>
		</div>
		<!-- End Header -->
		<!-- Table -->
		<div class="table-responsive datatable-custom position-relative">
			<table id="accountTable" class="table table-lg table-borderless table-thead-bordered table-nowrap table-align-middle card-table" data-hs-datatables-options='{
                   "columnDefs": [{
                      "targets": [0, 4, 6],
                      "orderable": false
                    }],
                   "order": [],
                   "info": {
                     "totalQty": "#datatableWithPaginationInfoTotalQty"
                   },
                   "search": "#datatableSearch",
                   "entries": "#datatableEntries",
                   "pageLength": 15,
                   "isResponsive": false,
                   "isShowPaging": false,
                   "pagination": "datatablePagination"
                 }'>
				<thead class="thead-light">
					<tr>
						<th class="table-column-pe-0">
							<div class="form-check">
								<input class="form-check-input" type="checkbox" value="" id="datatableCheckAll">
								<label class="form-check-label" for="datatableCheckAll"></label>
							</div>
						</th>
						<th class="table-column-pe-0">프로필</th>
						<th class="table-column-pe-0">부서</th>
						<th class="table-column-pe-0">직급</th>
						<th class="table-column-pe-0">계정상태</th>
						<th class="table-column-pe-0">상태</th>
						<th class="table-column-pe-0">연락처</th>
						<th class="table-column-pe-0">권한</th>
						<th class="table-column-pe-0">입사일</th>
					</tr>
				</thead>
				<tbody id="accountList">
					<!-- 사용자 목록 -->
					{{#accountList}}
					<tr>
						<td class="table-column-pe-0">
							<div class="form-check">
								<input class="form-check-input" type="checkbox" value="{{id}}" id="{{id}}" name="accountRow">
								<label class="form-check-label" for="{{id}}"></label>
							</div>
						</td>
						<td class="table-column-ps-0">
							<a class="d-flex align-items-center" onClick="updateAccountModal({{id}})" data-bs-toggle="modal" data-bs-target="#updateAccountModal">
								{{#photo}}
								<div class="avatar avatar-circle">
									<img class="avatar-img" src="{{photo}}" alt="{{photo}}">
								</div>
								{{/photo}} {{^photo}}
								<div class="avatar avatar-sm avatar-dark avatar-circle" data-bs-toggle="tooltip" data-bs-placement="top" title="{{name}}">
									<span class="avatar-initials">{{name}}</span>
								</div>
								{{/photo}}
								<div class="ms-3">
									<span class="d-block h5 text-inherit mb-0">{{name}}</span>
									<span class="d-block fs-5 text-body">{{email}}</span>
								</div>
							</a>
						</td>
						<td>{{department}}</td>
						<td>{{position}}</td>
						<td name="accountStatus">
							<span class="legend-indicator"></span>
							{{status.value}}
						</td>
						<td name="accountUserStatus">
							<span class="legend-indicator"></span>
							{{userStatus.value}}
						</td>
						<td>{{phone}}</td>
						<td>{{role.value}}</td>
						<td>{{hireDate}}</td>
					</tr>
					{{/accountList}} {{^accountList}}
					<tr>
						<td colspan="6" class="text-center">계정이 없습니다</td>
					</tr>
					{{/accountList}}
					<!-- End 사용자 목록 -->
				</tbody>
			</table>
		</div>
		<!-- End Table -->
		<!-- Footer -->
		<div class="card-footer">
			<div class="row justify-content-center justify-content-sm-between align-items-sm-center">
				<div class="col-sm mb-2 mb-sm-0">
					<div class="d-flex justify-content-center justify-content-sm-start align-items-center">
						<span class="me-2">표시:</span>
						<!-- Select -->
						<div class="tom-select-custom">
							<select id="datatableEntries" class="js-select form-select form-select-borderless w-auto" autocomplete="off" data-hs-tom-select-options='{
                            "searchInDropdown": false,
                            "hideSearch": true
                          }'>
								<option value="10">10</option>
								<option value="15" selected>15</option>
								<option value="20">20</option>
							</select>
						</div>
						<!-- End Select -->
						<span class="text-secondary me-2">전체</span>
						<!-- Pagination Quantity -->
						<span id="datatableWithPaginationInfoTotalQty"></span>
						<span class="text-secondary me-2">개</span>
					</div>
				</div>
				<!-- End Col -->
				<div class="col-sm-auto">
					<div class="d-flex justify-content-center justify-content-sm-end">
						<!-- Pagination -->
						<nav id="datatablePagination" aria-label="Activity pagination"></nav>
					</div>
				</div>
				<!-- End Col -->
			</div>
			<!-- End Row -->
		</div>
		<!-- End Footer -->
	</div>
	<!-- End Card -->
	</div>
	<!-- End Content -->
</main>
<!-- ========== END MAIN CONTENT ========== -->
<!-- ================= FOOTER =================-->
{{>account/footer}}
